(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(14),o=t.n(c),u=t(4),l=t(2),i=function(e){var n=e.persons,t=e.newFilter,a=e.onDelete,c=function(e){return e.map((function(e){return r.a.createElement("p",{key:e.name},e.name," ",e.number,r.a.createElement("button",{onClick:a(e.id,e.name)},"delete"))}))},o=n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return c(""===t?n:o)},m=function(e){var n=e.newName,t=e.newNumber,a=e.handleNameChange,c=e.handlePhoneChange,o=e.addPerson;return r.a.createElement("div",null,r.a.createElement("h2",null,"Add a new"),r.a.createElement("form",{onSubmit:o},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:n,onChange:a})),r.a.createElement("div",null,"number:",r.a.createElement("input",{value:t,onChange:c})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add"))))},f=function(e){var n=e.value,t=e.onChange;return r.a.createElement("div",null,"filter shown with ",r.a.createElement("input",{value:n,onChange:t}))},s=t(3),d=t.n(s),h="/api/persons",b=function(){return d.a.get(h).then((function(e){return e.data}))},v=function(e){return d.a.post(h,e).then((function(e){return e.data}))},p=function(e){return d.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))},E=function(e,n){return d.a.put("".concat(h,"/").concat(e),n).then((function(e){return e.data}))},w=(t(37),function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)(""),s=Object(l.a)(o,2),d=s[0],h=s[1],w=Object(a.useState)(""),g=Object(l.a)(w,2),j=g[0],O=g[1],C=Object(a.useState)(""),k=Object(l.a)(C,2),N=k[0],S=k[1],y=Object(a.useState)(null),P=Object(l.a)(y,2),D=P[0],x=P[1],F=Object(a.useState)(""),I=Object(l.a)(F,2),J=I[0],L=I[1];Object(a.useEffect)((function(){b().then((function(e){c(e)}))}),[]);var T=function(){h(""),O("")},A=function(e){var n=e.message;return null===n?null:r.a.createElement("div",{className:J},n)},B=function(){setTimeout((function(){x(null)}),5e3)};return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(A,{message:D}),r.a.createElement(f,{value:N,onChange:function(e){S(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(m,{newName:d,newNumber:j,handleNameChange:function(e){h(e.target.value)},handlePhoneChange:function(e){O(e.target.value)},addPerson:function(e){e.preventDefault();for(var n=function(e){if(d===t[e].name){if(window.confirm("".concat(d," is already exist in the phonebook, replace the old number with a new one?"))){var n=Object(u.a)(Object(u.a)({},t[e]),{},{number:j});E(t[e].id,n).then((function(n){c(t.map((function(e){return e.name===d?n:e}))),x("The phone number has been updated for ".concat(t[e].name)),L("successful")})).catch((function(e){x("".concat(e.response.data.error)),L("error"),b().then((function(e){c(e)}))})),T(),B()}return{v:void 0}}},a=0;a<t.length;a++){var r=n(a);if("object"===typeof r)return r.v}var o={name:d,number:j};v(o).then((function(e){c(t.concat(e))})).catch((function(e){x("".concat(e.response.data.error)),L("error")})),x("added ".concat(o.name)),L("successful"),T(),B()}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(i,{persons:t,newFilter:N,onDelete:function(e,n){return function(){window.confirm("Delete ".concat(n," ?"))&&p(e).then((function(a){c(t.filter((function(n){return n.id!==e}))),x(["Information of ".concat(n," has already been removed from server"),"error"]),L("error"),B()}))}}})))});o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.d073a8a7.chunk.js.map